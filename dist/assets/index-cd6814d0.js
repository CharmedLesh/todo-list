(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();const h="js-task",U=`${h}--checked`,F=`${h}__checkbox`,x=`${h}__input`,O=`${x}--checked`,N=`${h}__button`,R=`${N}--highlight`,D=`${h}__button`,d={taskLiClass:h,taskLiCheckedClass:U,taskCheckboxClass:F,taskInputClass:x,taskInputCheckedClass:O,taskEditButtonClass:N,taskEditButtonHighlightedClass:R,taskRemoveButtonClass:D},M='<svg width="16px" height="16px"	viewBox="0 0 16 16"	xmlns="http://www.w3.org/2000/svg"><g><polygon points="13.63 3.65 12.35 2.38 8 6.73 3.64 2.38 2.37 3.65 6.72 8.01 2.38 12.35 3.65 13.63 8 9.28 12.35 13.64 13.63 12.36 9.27 8.01 13.63 3.65"/></g></svg>',P='<svg width="16px" height="16px" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h48v48H0z" fill="none"/><g id="Shopicon"><rect x="33.172" y="4.343" transform="matrix(0.7071 -0.7071 0.7071 0.7071 3.473 29.5565)" width="8.485" height="12.485"/><polygon points="27.172,12 4,35.172 4,44 12.829,44 38.829,18 36,20.828"/></g></svg>';function f(e,t,s){e?t.classList.add(s):t.classList.remove(s)}function K(){const e=localStorage.getItem("TASKS");return e?JSON.parse(e):[]}function b(e){localStorage.setItem("TASKS",JSON.stringify(e))}const V={submitNewTaskForm:"create-task",submitNewTaskInput:"create-task__input"},q="task-list",j={progressBar:"progressbar__progress",totalTasksNumber:"progressbar__number--total",completedTasksNumber:"progressbar__number--complited"},J="remove-checked-button",k={createTaskIds:V,taskListId:q,progressBarIds:j,removeAllCheckedTasksButtonId:J},W=document.getElementById(k.createTaskIds.submitNewTaskForm),z=document.getElementById(k.createTaskIds.submitNewTaskInput),G=document.getElementById(k.taskListId),Q=document.getElementById(k.progressBarIds.progressBar),X=document.getElementById(k.progressBarIds.totalTasksNumber),Y=document.getElementById(k.progressBarIds.completedTasksNumber),Z=document.getElementById(k.removeAllCheckedTasksButtonId),u={$submitNewTaskForm:W,$submitNewTaskInput:z,$taskList:G,$progressBar:Q,$totalTasksNumber:X,$completedTasksNumber:Y,$removeAllCheckedTasksButton:Z};function B(e,t){const s=document.querySelectorAll("button");for(let a=0;a<s.length;a++)s[a]!==t&&(s[a].disabled=e)}function $(e){const t=document.querySelectorAll("input[type='checkbox']");for(let s=0;s<t.length;s++)t[s].disabled=e}function S(e,t,s,a,n){var I;const o=document.createElement("li");o.classList.add(d.taskLiClass);const r=document.createElement("input");r.classList.add(d.taskCheckboxClass),r.type="checkbox",r.checked=t.isCompleted,f(r.checked,o,d.taskLiCheckedClass),r.addEventListener("change",p);function p(){a(t,r.checked),f(r.checked,o,d.taskLiCheckedClass),f(r.checked,c,d.taskInputCheckedClass),b(e)}const c=document.createElement("input");c.classList.add(d.taskInputClass),c.value=t.title,c.disabled=!0,c.spellcheck=!1,f(r.checked,c,d.taskInputCheckedClass),c.addEventListener("blur",()=>c.focus()),c.addEventListener("keyup",g);function g(E){(E.code==="Escape"||E.code==="Enter")&&y()}const m=document.createElement("button");m.classList.add(d.taskEditButtonClass),m.innerHTML=P,m.addEventListener("click",y);function y(){s?c.value?(B(!1,m),$(!1),c.disabled=!0,f(r.checked,c,d.taskInputCheckedClass),m.classList.remove(d.taskEditButtonHighlightedClass),t.title=c.value,b(e),s=!1):c.focus():(B(!0,m),$(!0),m.classList.add(d.taskEditButtonHighlightedClass),c.classList.remove(d.taskInputCheckedClass),c.disabled=!1,c.focus(),s=!0)}const v=document.createElement("button");v.classList.add(d.taskRemoveButtonClass),v.innerHTML=M,v.addEventListener("click",L);function L(){n(t.id),b(e),r.removeEventListener("change",p),c.removeEventListener("blur",()=>c.focus()),c.removeEventListener("keyup",g),v.removeEventListener("click",L),o.remove()}o.append(r,c,m,v),(I=u.$taskList)==null||I.append(o),b(e)}function C(e){const t=e.length,s=e.reduce((n,o)=>n+(o.isCompleted?1:0),0);u.$totalTasksNumber&&(u.$totalTasksNumber.innerHTML=t.toString()),u.$completedTasksNumber&&(u.$completedTasksNumber.innerHTML=s.toString());const a=s/t*100;u.$progressBar&&(u.$progressBar.style.width=a?`${a}%`:"0")}function ee(e,t){var s;(s=u.$removeAllCheckedTasksButton)==null||s.addEventListener("click",()=>{var a;if(e){t(),b(e);const n=(a=u.$taskList)==null?void 0:a.children;if(n)for(let o=0;o<n.length;o++){const r=n[o];r.children[0].checked&&(r.remove(),o--)}}})}let T;const te=new Uint8Array(16);function se(){if(!T&&(T=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!T))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return T(te)}const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function ne(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}const oe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),w={randomUUID:oe};function ce(e,t,s){if(w.randomUUID&&!t&&!e)return w.randomUUID();e=e||{};const a=e.random||(e.rng||se)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){s=s||0;for(let n=0;n<16;++n)t[s+n]=a[n];return t}return ne(a)}function ae(e,t,s,a,n){var o;(o=u.$submitNewTaskForm)==null||o.addEventListener("submit",r=>{var p,c;if(r.preventDefault(),(p=u.$submitNewTaskInput)!=null&&p.value){const g={id:ce(),title:(c=u.$submitNewTaskInput)==null?void 0:c.value,isCompleted:!1};t(g),S(e,g,s,a,n),u.$submitNewTaskInput.value=""}})}let A=!1,l=K();l.forEach(e=>{S(l,e,A,H,_)});C(l);function re(e){l.push(e),C(l)}function _(e){l=l.filter(s=>s.id!==e),C(l)}function ie(){l=l.filter(t=>t.isCompleted===!1),C(l)}function H(e,t){e.isCompleted=t,C(l)}ae(l,re,A,H,_);ee(l,ie);
