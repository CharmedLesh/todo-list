var V=Object.defineProperty;var q=(s,e,t)=>e in s?V(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var f=(s,e,t)=>(q(s,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();let L;const K=new Uint8Array(16);function R(){if(!L&&(L=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!L))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return L(K)}const c=[];for(let s=0;s<256;++s)c.push((s+256).toString(16).slice(1));function J(s,e=0){return c[s[e+0]]+c[s[e+1]]+c[s[e+2]]+c[s[e+3]]+"-"+c[s[e+4]]+c[s[e+5]]+"-"+c[s[e+6]]+c[s[e+7]]+"-"+c[s[e+8]]+c[s[e+9]]+"-"+c[s[e+10]]+c[s[e+11]]+c[s[e+12]]+c[s[e+13]]+c[s[e+14]]+c[s[e+15]]}const j=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),A={randomUUID:j};function z(s,e,t){if(A.randomUUID&&!e&&!s)return A.randomUUID();s=s||{};const o=s.random||(s.rng||R)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,e){t=t||0;for(let n=0;n<16;++n)e[t+n]=o[n];return e}return J(o)}const G='<svg width="16px" height="16px"	viewBox="0 0 16 16"	xmlns="http://www.w3.org/2000/svg"><g><polygon points="13.63 3.65 12.35 2.38 8 6.73 3.64 2.38 2.37 3.65 6.72 8.01 2.38 12.35 3.65 13.63 8 9.28 12.35 13.64 13.63 12.36 9.27 8.01 13.63 3.65"/></g></svg>',Q='<svg width="16px" height="16px" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h48v48H0z" fill="none"/><g id="Shopicon"><rect x="33.172" y="4.343" transform="matrix(0.7071 -0.7071 0.7071 0.7071 3.473 29.5565)" width="8.485" height="12.485"/><polygon points="27.172,12 4,35.172 4,44 12.829,44 38.829,18 36,20.828"/></g></svg>',M={submitNewTaskForm:"create-task",submitNewTaskInput:"create-task__input"},W="task-list",N={progressBar:"progressbar__progress",totalTasksNumber:"progressbar__number--total",completedTasksNumber:"progressbar__number--complited"},X="remove-checked-button",g="task",P=`${g}--checked`,U=`${g}__checkbox`,F=`${g}__input`,$=`${F}--checked`,y=`${g}__button`,_=`${y}--highlight`,b=`${y}--edit-button`,C=`${y}--remove-button`,B=document.getElementById(M.submitNewTaskForm),h=document.getElementById(M.submitNewTaskInput),l=document.getElementById(W),O=document.getElementById(N.progressBar),D=document.getElementById(N.totalTasksNumber),H=document.getElementById(N.completedTasksNumber),E=document.getElementById(X);class m{static saveTasksToStorage(){localStorage.setItem("TASKS",JSON.stringify(r))}static getTasksFromStorage(){const e=localStorage.getItem("TASKS");return e?JSON.parse(e):[]}}let w=!1,r=m.getTasksFromStorage(),x=0,S=0;class Y{constructor(e,t){f(this,"id");f(this,"title");f(this,"isChecked");this.id=z(),this.title=e,this.isChecked=t}}class v{static pushNewTask(e){const t=new Y(e,!1);r.push(t),m.saveTasksToStorage(),p.updateProgressBar()}static setIsTaskCompletedById(e,t){const o=r.findIndex(n=>n.id===e);r[o].isChecked=t,m.saveTasksToStorage(),p.updateProgressBar()}static editTaskTitleById(e,t){const o=r.findIndex(n=>n.id===e);r[o].title=t,m.saveTasksToStorage(),p.updateProgressBar()}static removeTaskById(e){r=r.filter(t=>t.id!==e),m.saveTasksToStorage(),p.updateProgressBar()}static removeAllCheckedTasks(){r=r.filter(t=>t.isChecked===!1),m.saveTasksToStorage(),p.updateProgressBar()}}class p{static updateProgressBar(){x=r.length,S=r.reduce((t,o)=>t+(o.isChecked?1:0),0),D&&(D.innerHTML=x.toString()),H&&(H.innerHTML=S.toString());const e=S/x*100;O&&(O.style.width=`${e}%`)}}class u{static renderNewTask(e){const t=document.createElement("li");t.classList.add(g),t.setAttribute("data-id",e.id);const o=document.createElement("input");o.classList.add(U),o.type="checkbox",o.checked=e.isChecked,T.styleTaskLiElement(e.isChecked,t);const n=document.createElement("input");n.classList.add(F),n.value=e.title,n.disabled=!0,n.spellcheck=!1,T.styleTaskInputElement(e.isChecked,n),n.addEventListener("blur",()=>n.focus());const a=document.createElement("button");a.classList.add(b),a.classList.add(y),a.innerHTML=Q;const i=document.createElement("button");i.classList.add(C),i.classList.add(y),i.innerHTML=G,t.append(o,n,a,i),l&&l.append(t)}static renderAllTasks(){for(const e of r)u.renderNewTask(e)}static addEventListenerToTaskList(){l&&l.addEventListener("click",e=>{const t=e.target,o=t.closest(`.${g}`),n=o.children[0],a=o.children[1],i=o.children[2],I=o.dataset.id;if(t){if(t.classList.contains(U)&&(T.styleTaskLiElement(t.checked,o),T.styleTaskInputElement(t.checked,o.children[1]),v.setIsTaskCompletedById(I,t.checked)),t.classList.contains(b)||t.closest(`.${b}`))if(w)if(a.value){const k=document.querySelectorAll("button");for(let d=0;d<k.length;d++)k[d].disabled=!1;a.disabled=!0,T.styleTaskInputElement(n.checked,a),i.classList.remove(_),v.editTaskTitleById(I,a.value),w=!1}else a.focus();else{const k=document.querySelectorAll("button");for(let d=0;d<k.length;d++)k[d]!==i&&(k[d].disabled=!0);i.classList.add(_),a.classList.remove($),a.disabled=!1,a.focus(),w=!0}(t.classList.contains(C)||t.closest(`.${C}`))&&(v.removeTaskById(I),a.removeEventListener("blur",()=>a.focus()),o.remove())}})}static removeAllCheckedTasks(){const e=l==null?void 0:l.children;if(e)for(let t=0;t<e.length;t++){const o=e[t];o.children[0].checked&&(o.remove(),t--)}}static renderApp(){u.renderAllTasks(),u.addEventListenerToTaskList(),p.updateProgressBar()}}class T{static styleTaskLiElement(e,t){e?t.classList.add(P):t.classList.remove(P)}static styleTaskInputElement(e,t){e?t.classList.add($):t.classList.remove($)}}B==null||B.addEventListener("submit",s=>{s.preventDefault(),h!=null&&h.value&&(v.pushNewTask(h.value),u.renderNewTask(r[r.length-1]),h.value="")});E==null||E.addEventListener("click",()=>{r&&(v.removeAllCheckedTasks(),u.removeAllCheckedTasks())});window.addEventListener("DOMContentLoaded",()=>{u.renderApp()});
